<!-- Narrow sidebar -->
<div
  class="hidden h-full w-28 overflow-y-auto bg-nav-dark lg:block border-r border-nav-base"
>
  <div
    class="flex w-full flex-col items-center py-6 divide-y divide-white/10 gap-y-6"
  >
    <!-- Logo Image -->
    <div class="flex flex-shrink-0 items-center">
      <a routerLink="/dashboard" (click)="onSelectMenu(menus['dashboard'])">
        <img
          class="h-8 w-auto"
          src="https://nemtpanel.com/assets/images/nemt-logo-panel.png"
          alt="Your Company"
        />
      </a>
    </div>

    <!-- Side Menus -->
    <div class="pt-6 w-full flex-1 space-y-1 px-2">
      <!-- Current: "bg-nav-light text-nav-light", Default: "text-nav-dark hover:bg-nav-light hover:text-nav-light" -->
      <!-- bg-nav-light text-nav-light  -->
      <a
        *ngFor="let menu of menus | keyvalue : sortMethod"
        routerLink="{{ getMenu(menu.value).subMenus && getMenu(menu.value).subMenus.length ? getMenu(menu.value).subMenus[0].url : getMenu(menu.value).url }}"
        (click)="onSelectMenu(menu.value)"
        [ngClass]="menu.key === (selectedMenu ? selectedMenu.key : '') ? 'bg-nav-light text-nav-light' : 'text-nav-dark hover:bg-nav-light hover:text-nav-light'"
        class="group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"
      >
        <!--
              Heroicon name: outline/home

              Current: "text-nav-light", Default: "text-nav-svg-dark group-hover:text-nav-light"
            -->
            <span
          [innerHTML]="getMenu(menu.value).sanitizedIcon"
        ></span>
        <span class="mt-2">{{ getMenu(menu.value).title }}</span>
      </a>
      <ng-container *ngIf="false">
        <a
          routerLink="dispatch"
          class="bg-nav-light text-nav-light group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"
        >
          <!--
              Heroicon name: outline/home

              Current: "text-nav-light", Default: "text-nav-svg-dark group-hover:text-nav-light"
            -->
          <svg
            class="text-nav-svg-light h-6 w-6"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M6 19v1q0 .425-.287.712Q5.425 21 5 21H4q-.425 0-.712-.288Q3 20.425 3 20v-8l2.1-6q.15-.45.538-.725Q6.025 5 6.5 5h11q.475 0 .863.275q.387.275.537.725l2.1 6v8q0 .425-.288.712Q20.425 21 20 21h-1q-.425 0-.712-.288Q18 20.425 18 20v-1Zm-.2-9h12.4l-1.05-3H6.85ZM5 12v5Zm2.5 4q.625 0 1.062-.438Q9 15.125 9 14.5t-.438-1.062Q8.125 13 7.5 13t-1.062.438Q6 13.875 6 14.5t.438 1.062Q6.875 16 7.5 16Zm9 0q.625 0 1.062-.438Q18 15.125 18 14.5t-.438-1.062Q17.125 13 16.5 13t-1.062.438Q15 13.875 15 14.5t.438 1.062Q15.875 16 16.5 16ZM5 17h14v-5H5Z"
            />
          </svg>
          <span class="mt-2">Dispatch</span>
        </a>
        <a
          href="#"
          class="text-nav-dark hover:bg-nav-light hover:text-nav-light group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"
        >
          <!--
            Heroicon name: outline/home

            Current: "text-nav-light", Default: "text-nav-svg-dark group-hover:text-nav-light"
          -->
          <svg
            class="text-nav-svg-dark group-hover:text-nav-light h-6 w-6"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 32 32"
          >
            <path
              fill="currentColor"
              d="M24 21h2v5h-2zm-4-5h2v10h-2zm-9 10a5.006 5.006 0 0 1-5-5h2a3 3 0 1 0 3-3v-2a5 5 0 0 1 0 10z"
            />
            <path
              fill="currentColor"
              d="M28 2H4a2.002 2.002 0 0 0-2 2v24a2.002 2.002 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2V4a2.002 2.002 0 0 0-2-2Zm0 9H14V4h14ZM12 4v7H4V4ZM4 28V13h24l.002 15Z"
            />
          </svg>
          <span class="mt-2">Dashboard</span>
        </a>
        <a
          href="#"
          class="text-nav-dark hover:bg-nav-light hover:text-nav-light group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"
        >
          <!--
          Heroicon name: outline/home

          Current: "text-nav-light", Default: "text-nav-svg-dark group-hover:text-nav-light"
        -->
          <svg
            class="text-nav-svg-dark group-hover:text-nav-light h-6 w-6"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M14.844 20H6.5C5.121 20 4 18.879 4 17.5S5.121 15 6.5 15h7c1.93 0 3.5-1.57 3.5-3.5S15.43 8 13.5 8H8.639a9.812 9.812 0 0 1-1.354 2H13.5c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5h-7C4.019 13 2 15.019 2 17.5S4.019 22 6.5 22h9.593a10.415 10.415 0 0 1-1.249-2zM5 2C3.346 2 2 3.346 2 5c0 3.188 3 5 3 5s3-1.813 3-5c0-1.654-1.346-3-3-3zm0 4.5a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 5 6.5z"
            />
            <path
              fill="currentColor"
              d="M19 14c-1.654 0-3 1.346-3 3c0 3.188 3 5 3 5s3-1.813 3-5c0-1.654-1.346-3-3-3zm0 4.5a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 19 18.5z"
            />
          </svg>
          <span class="mt-2">Trips</span>
        </a>
      </ng-container>
    </div>
  </div>
</div>

<!-- --- Small nav-- -->

<div *ngIf="isShowSmallScreenMenu" class="relative z-50 lg:hidden" role="dialog" aria-modal="true">

  <div class="fixed inset-0 bg-main-dark/80"></div>

  <div class="fixed inset-0 flex">

    <div class="relative mr-16 flex w-full max-w-xs flex-1">

      <div class="absolute left-full top-0 flex w-16 justify-center pt-5">
        <button (click)="closeSmallScreenMenu()" type="button" class="-m-2.5 p-2.5" >
          <span class="sr-only">Close sidebar</span>
          <svg class="h-6 w-6 text-container-base" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Sidebar component, swap this element with another sidebar if you like -->
      <div class="flex grow flex-col gap-y-5 overflow-y-auto bg-nav-dark px-6 pb-2">
        <div class="flex h-16 shrink-0 items-center">
          <img class="h-8 w-auto" src="https://nemtpanel.com/assets/images/nemt-logo-panel.png" alt="Medical Logo">
        </div>
        <nav class="flex flex-1 flex-col">
          <ul role="list" class="flex flex-1 flex-col gap-y-7">
            <li>
              <ul role="list" class="-mx-2 space-y-1">
                <li *ngFor="let menu of menus | keyvalue : sortMethod">
                  <div>
                  
                    <button   routerLink="{{ getMenu(menu.value).subMenus && getMenu(menu.value).subMenus.length ? getMenu(menu.value).subMenus[0].url : getMenu(menu.value).url }}" (click)="onSelectMenuSmallScreen(menu.value)" type="button" 
                    [ngClass]="getMenu(menu.value).key === selectedMenukey 
                    ? 'bg-nav-light text-nav-light' : 'text-nav-dark hover:bg-nav-light hover:text-nav-light'"
                      class="flex items-center w-full text-left rounded-md p-2 gap-x-3 text-sm leading-6 font-semibold"
                      aria-controls="sub-menu-1" aria-expanded="false">
                      <span [innerHTML]="getMenu(menu.value).sanitizedIcon"></span>
                      {{ getMenu(menu.value).title }}
                      <!-- Expanded: "rotate-90 text-main-light", Collapsed: "text-main-light" -->
                      <svg *ngIf="getMenu(menu.value).subMenus" class="text-container-base ml-auto h-5 w-5 shrink-0" viewBox="0 0 20 20"
                        fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd"
                          d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
                          clip-rule="evenodd" />
                      </svg>
                    </button>

                    <ul *ngIf="getMenu(menu.value).key === selectedMenukey" class="mt-1 px-2" id="sub-menu-1">
                      <li *ngFor="let subMenu of getMenu(menu.value).subMenus">
                        <a routerLink="{{subMenu.url}}" routerLinkActive="bg-nav-light text-nav-light" (click)="closeSmallScreenMenu()"
                          class="block rounded-md py-2 pr-2 pl-9 text-sm leading-6 text-nav-dark hover:bg-nav-light hover:text-nav-light">
                          {{subMenu.title}}
                        </a>
                      </li>
                    </ul>
                  </div>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
